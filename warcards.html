<!DOCTYPE html>
<html>

  <head>
    <title>War!</title>
    <style>
      body {
        background-color: #009900
      }
    </style>
  </head>

  <body>
    <script>

      var ranks, suits, values, deck, playerHand, computerHand;

      ranks = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
      suits = ['H', 'S', 'C', 'D'];
      values = {'2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, 
                '9': 9, '10': 10, 'J': 11, 'Q': 12, 'K': 13, 'A': 14};

      /* Constructor for a Deck object.  Contains ability to shuffle and deal cards.*/
      function Deck() {
        this.cards = [];

        this.count = function() {
          return this.cards.length;
        }

        /* Initialize a deck containing one card of each rank/suit combination */
        this.init = function() {
          for (var s = 0; s < suits.length; s++) {
            for (var r = 0; r < ranks.length; r++) {
              this.cards.push(new Card(ranks[r], suits[s]));
            }
          }
        }

        /* Shuffle the cards in the deck */
        this.shuffle = function() {
          var input = this.cards;
          for (var i = this.count() - 1; i >= 0; i--) {
            var randomIndex, itemAtIndex;
            randomIndex = Math.floor(Math.random() * (i + 1))
            itemAtIndex = input[randomIndex]
            input[randomIndex] = input[i];
            input[i] = itemAtIndex;
          }
          this.cards = input;
        }
        
        /* Remove and return a card, to deal to a hand or other location */
        this.dealCard = function() {
          return this.cards.shift();
        }

        /* Print every card in the deck */
        this.printDeck = function() {
          for (var c = 0; c < this.count(); c++) {
            this.cards[c].show();
          }
        }
      }

      /* Constructor for a Card object. */
      function Card(rank, suit) {
        this.rank = rank;
        this.suit = suit;
        this.strength = values[rank];
        this.show = function() {
          console.log(this.rank + " of " + this.suit);
        }

      }

      /* Constructor for a hand for the game of War */
      function WarHand() {
        this.cards = [];

        this.count = function() {
          return this.cards.length;
        }

        this.addCard = function(card) {
          this.cards.push(card);
        }

        this.printHand = function() {
          for (var c = 0; c < this.count(); c++) {
            this.cards[c].show();
          }
        }

        this.playCard = function() {
          
        }
      }

      deck = new Deck();
      deck.init();
      deck.shuffle();

      playerHand = new WarHand();
      computerHand = new WarHand();

      /* Initialize hands to start a game of War */
      var startWar = function(gameDeck) {
        var toggle, dealtCard;
        toggle = 0;
        while (gameDeck.count() > 0) {
          if (toggle === 0) {
            playerHand.addCard(gameDeck.dealCard());
            toggle++;
          }
          else if (toggle === 1) {
            computerHand.addCard(gameDeck.dealCard());
            toggle--;
          }
        }
      }

      startWar(deck);

    </script>
  </body>

</html>